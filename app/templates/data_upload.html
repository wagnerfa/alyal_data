{% extends "base.html" %}

{% block title %}Importar Vendas - Alyal{% endblock %}

{% block content %}
<div class="dashboard">
    <div class="dashboard-header">
        <h1>Importação de Vendas</h1>
    </div>

    <div class="dashboard-card">
        <h3>Formato esperado</h3>
        <p class="card-description">Utilize arquivos CSV com cabeçalho contendo as colunas abaixo:</p>
        <ul class="import-notes">
            <li><code>nome_produto</code></li>
            <li><code>sku</code></li>
            <li><code>status_pedido</code> (será normalizado para minúsculas e sem acentos)</li>
            <li><code>data_venda</code> (formatos aceitos: YYYY-MM-DD ou DD/MM/YYYY)</li>
            <li><code>valor_total_venda</code> (use ponto ou vírgula)</li>
        </ul>
        <p class="card-description">Selecione o marketplace durante o envio. Tamanho máximo permitido: 2MB.</p>
    </div>

    <div class="dashboard-card">
        <form method="post" enctype="multipart/form-data" class="upload-form">
            <div class="form-group">
                <label for="marketplace_id">Marketplace</label>
                <select id="marketplace_id" name="marketplace_id" required>
                    <option value="">Selecione</option>
                    {% for marketplace in marketplaces %}
                        <option value="{{ marketplace.id }}">{{ marketplace.nome }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="file">Arquivo CSV</label>
                <input type="file" id="file" name="file" accept=".csv" required>
            </div>
            <button type="submit" class="btn btn-primary">Importar vendas</button>
        </form>
        <p class="card-description" style="margin-top: 20px;">Precisa conferir os registros importados? <a href="{{ url_for('data.sales_list') }}">Acesse a lista de vendas</a>.</p>
    </div>
</div>
{% endblock %}
